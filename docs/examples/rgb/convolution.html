<!DOCTYPE html>
<html lang="en">
    <head>
		<meta charset='UTF-8' />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="format-detection" content="telephone=yes" />
		<title>ImageRGB - Convolution</title>
		<style>
			
			pre {
				white-space:pre-wrap;
				font-family:Courier new;
				padding:10px;
			}
			
			canvas {
				display:block; 
				margin:10px; 
				box-shadow:2px 3px 15px #777;
				
				image-rendering: pixelated;
			}
			
		</style>
        <script type="module">
			
			import pixel from "../../../index.mjs";
			
			///
			window.addEventListener('load', function(e) {
				
				pixel.load("../src/valve.png", function( context, imagedata ) {
					
					print("Original source");
					document.body.appendChild( context.canvas );
					
					/// 
					/// 
					let image = pixel.ImageRGB.FromImageData( imagedata );
					
					///
					print("Example 1. Prewitt");
					
					let image_prewitt = image.conv( pixel.Matrix.Prewitt() );
					
					pixel.createContext( image_prewitt.getImageData(), document.body );
					
					///
					print("Example 2. Sobel");
					
					let image_sobel = image.conv( pixel.Matrix.Sobel() );
					
					pixel.createContext( image_sobel.getImageData(), document.body );
					
					///
					print("Example 3. Laplace");
					
					let image_laplace = image.conv( pixel.Matrix.Laplace() );
					
					pixel.createContext( image_laplace.getImageData(), document.body );
					
					///
					print("Example 4. Sharpen");
					
					let image_sharpen = image.conv( pixel.Matrix.Sharpen() );
					
					pixel.createContext( image_sharpen.getImageData(), document.body );
					
					///
					print("Example 5. GaussianBlur");
					
					let image_blur = image.conv( pixel.Matrix.GaussianBlur() );
					
					pixel.createContext( image_blur.getImageData(), document.body );
					
					///
					print("Example 6. Emboss");
					
					let image_emboss = image.conv( pixel.Matrix.Emboss() );
					
					pixel.createContext( image_emboss.getImageData(), document.body );
					
				});
				
			}, false);
			
			function print() {
				
				let pre = document.createElement('pre');
				let text = Array.from( arguments ).join('\n');
				
				pre.appendChild(document.createTextNode( text ));
				
				document.body.appendChild( pre );
				
				return pre;
				
			}
			
		</script>
    </head>
    <body>
    </body>
</html>
